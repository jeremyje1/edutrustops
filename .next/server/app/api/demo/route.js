"use strict";(()=>{var e={};e.id=971,e.ids=[971],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},82750:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>f,patchFetch:()=>w,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>v});var a={};r.r(a),r.d(a,{POST:()=>d});var o=r(10884),s=r(16132),n=r(21040),u=r(95798),i=r(7542);async function d(e){try{let t=await e.json(),{name:r,email:a,message:o,institution:s,consent:n}=t||{};if(!a)return new u.Z("Email required",{status:400});return await i.Z.lead.upsert({where:{email:a},update:{name:r,message:o,institution:s,consent:!!n,source:"demo_form"},create:{name:r,email:a,message:o,institution:s,consent:!!n,source:"demo_form"}}),u.Z.json({message:"OK"})}catch(e){return new u.Z("Invalid request",{status:400})}}let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/demo/route",pathname:"/api/demo",filename:"route",bundlePath:"app/api/demo/route"},resolvedPagePath:"/Users/jeremy.estrella/Desktop/edutrustops/src/app/api/demo/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m,headerHooks:h,staticGenerationBailout:v}=p,f="/api/demo/route";function w(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},7542:(e,t,r)=>{let a;r.d(t,{Z:()=>s});let o=require("@prisma/client");a=new o.PrismaClient;let s=a}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[271,107],()=>r(82750));module.exports=a})();