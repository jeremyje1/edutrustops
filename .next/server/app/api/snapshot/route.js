"use strict";(()=>{var e={};e.id=12,e.ids=[12],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8295:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>m,originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>g});var a={};s.r(a),s.d(a,{POST:()=>p});var r=s(10884),n=s(16132),o=s(21040),i=s(95798),u=s(7542);async function p(e){try{let t=await e.json(),{name:s,email:a,institution:r,baseUrl:n,consent:o}=t||{};if(!a||!n)return new i.Z("Email and baseUrl required",{status:400});return await u.Z.lead.upsert({where:{email:a},update:{name:s,institution:r,message:`Snapshot for: ${n}`,consent:!!o,source:"accessibility_snapshot"},create:{name:s,email:a,institution:r,message:`Snapshot for: ${n}`,consent:!!o,source:"accessibility_snapshot"}}),i.Z.json({message:"OK"})}catch{return new i.Z("Invalid request",{status:400})}}let c=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/snapshot/route",pathname:"/api/snapshot",filename:"route",bundlePath:"app/api/snapshot/route"},resolvedPagePath:"/Users/jeremy.estrella/Desktop/edutrustops/src/app/api/snapshot/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:m,staticGenerationBailout:g}=c,v="/api/snapshot/route";function f(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},7542:(e,t,s)=>{let a;s.d(t,{Z:()=>n});let r=require("@prisma/client");a=new r.PrismaClient;let n=a}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[271,107],()=>s(8295));module.exports=a})();